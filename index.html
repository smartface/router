<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>@smartface/router</title><meta name="description" content="Documentation for @smartface/router"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@smartface/router</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@smartface/router</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#smartface-router" id="smartface-router" style="color: inherit; text-decoration: none;">
  <h1>Smartface Router</h1>
</a>
<ul>
<li><a href="https://smartface.github.io/router/">Read API Documentation</a></li>
<li><a href="https://github.com/smartface/router-test">Router Playground</a></li>
</ul>

<a href="#what-is-a-router" id="what-is-a-router" style="color: inherit; text-decoration: none;">
  <h1>What is a Router</h1>
</a>
<p>Router is a concept that decouples application&#39;s page-routing logic than view layer in order to make application more</p>
<ul>
<li>Manageable</li>
<li>Maintainable</li>
<li>Flexible for future growth and change</li>
<li>Readable</li>
<li>Useful</li>
</ul>

<a href="#types-of-smartface-routers" id="types-of-smartface-routers" style="color: inherit; text-decoration: none;">
  <h2>Types of Smartface Routers</h2>
</a>
<p>There are 4 types of routers</p>
<ul>
<li><a href="https://smartface.github.io/router/class/src/native/NativeRouter.ts~NativeRouter.html">NativeRouter</a></li>
<li><a href="https://smartface.github.io/router/class/src/native/NativeStackRouter.ts~NativeStackRouter.html">NativeStackRouter</a></li>
<li><a href="https://smartface.github.io/router/class/src/native/BottomTabBarRouter.ts~BottomTabBarRouter.html">NativeBottomTabBarRouter</a></li>
<li>NativeTopTabBarRouter (in roadmap)</li>
</ul>

<a href="#changelog" id="changelog" style="color: inherit; text-decoration: none;">
  <h2>ChangeLog</h2>
</a>
<ul>
<li>2.0.0 <ul>
<li>Router module have been fully converted into TypeScript!</li>
</ul>
</li>
<li>1.2.0<ul>
<li>Added Replace action to recall current route&#39;s lifescycle-methods<ul>
<li>You could find more in <a href="https://github.com/smartface/router-test/blob/master/scripts/routes/replace.js">Replace Example</a></li>
</ul>
</li>
<li>Fix bug #25</li>
</ul>
</li>
</ul>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<p>Router already comes preinstalled in the Smartface Workspace. 
If you have accidently deleted it or want to install at someplace else, use this commend</p>
<pre><code><span class="hl-0">yarn add @smartface</span><span class="hl-1">/</span><span class="hl-0">router</span>
</code></pre>

<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
  <h2>Table of Contents</h2>
</a>
<ul>
<li><a href="#smartface-router">Smartface Router</a><ul>
<li><a href="#changelog">ChangeLog</a></li>
</ul>
</li>
<li><a href="#what-is-a-router">What is a Router</a><ul>
<li><a href="#types-of-smartface-routers">Types of Smartface Routers</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#table-of-contents">Table of Contents</a><ul>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#basic-usage-of-push-and-goback">Basic Usage of push and goBack</a><ul>
<li><a href="#push-a-new-page">Push a new page</a></li>
<li><a href="#go-back-to-a-desired-page-in-same-history-stack">Go back to a desired page in same history stack</a></li>
</ul>
</li>
<li><a href="#replace-active-routes-view-using-replace-action">Replace active route&#39;s view using Replace action</a></li>
</ul>
</li>
<li><a href="#working-with-stackrouter">Working with StackRouter</a><ul>
<li><a href="#present--dismiss-stackrouters-view-as-modal">Present &amp; dismiss StackRouter&#39;s view as modal</a></li>
</ul>
</li>
<li><a href="#working-with-bottomtabbarrouter">Working with BottomTabBarRouter</a></li>
<li><a href="#working-with-pages">Working with Pages</a></li>
<li><a href="#setting-home-route-to-stackrouter">Setting home-route to StackRouter</a></li>
<li><a href="#send-and-recevice-query-string">Send and recevice query-string</a></li>
<li><a href="#working-with-deeplinking">Working with deeplinking</a></li>
<li><a href="#working-with-life-cycle-methods">Working with life-cycle methods</a></li>
<li><a href="#blocking-routes">Blocking Routes</a></li>
<li><a href="#limitations-of-blockers">Limitations of blockers</a></li>
</ul>
</li>
<li><a href="#listening-history-changes">Listening history changes</a></li>
<li><a href="#common-features-of-routers">Common features of Routers</a></li>
</ul>
</li>
<li><a href="#contribute-to-repository">Contribute to Repository</a></li>
</ul>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h3>Getting Started</h3>
</a>
<ul>
<li><code>NativeRouter</code> is the root router</li>
<li><code>StackRouter</code> is to create route stack</li>
<li><code>Route</code> is a definition of a path</li>
<li><code>BottomTabBarRouter</code> is to manage BottomTabBarController&#39;s</li>
</ul>

<a href="#basic-usage-of-push-and-goback" id="basic-usage-of-push-and-goback" style="color: inherit; text-decoration: none;">
  <h4>Basic Usage of <a href="https://smartface.github.io/router/class/src/router/Router.ts~Router.html#instance-method-push">push</a> and <a href="https://smartface.github.io/router/class/src/router/Router.ts~Router.html#instance-method-goBack">goBack</a></h4>
</a>

<a href="#push-a-new-page" id="push-a-new-page" style="color: inherit; text-decoration: none;">
  <h5>Push a new page</h5>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> {</span><br/><span class="hl-0">  NativeRouter: Router</span><span class="hl-2">,</span><br/><span class="hl-0">  Router: RouterBase</span><span class="hl-2">,</span><br/><span class="hl-0">  NativeStackRouter: StackRouter</span><span class="hl-2">,</span><br/><span class="hl-0">  BottomTabBarRouter</span><span class="hl-2">,</span><br/><span class="hl-0">  Route</span><br/><span class="hl-0">} </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@smartface/router&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">    path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">    to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">    isRoot</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">    routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">            path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                </span><span class="hl-1">let</span><span class="hl-0"> Page2 </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page2&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">                </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">();</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">            path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                </span><span class="hl-1">const</span><span class="hl-0"> { </span><span class="hl-4">routeData</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-4">view</span><span class="hl-0"> } </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><span class="hl-0">                </span><span class="hl-1">let</span><span class="hl-0"> Page1 </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">                </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(routeData</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">    ]})</span><br/><br/><span class="hl-6">// push path</span><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-0">);</span>
</code></pre>

<a href="#go-back-to-a-desired-page-in-same-history-stack" id="go-back-to-a-desired-page-in-same-history-stack" style="color: inherit; text-decoration: none;">
  <h5>Go back to a desired page in same history stack</h5>
</a>
<p>goBack method is functional only if it&#39;s used on a StackRouter. And if provided,
related page of the url parameter must be in the same stack history. Otherwise
goBack does nothing.</p>
<pre><code class="language-typescript"><span class="hl-6">// Add essential require statements</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  isRoot</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">  routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">Page</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page</span><span class="hl-0">({ label</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">1</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages2/page2&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">Page</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page</span><span class="hl-0">({ label</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">2</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages2/page3&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page3&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">Page</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page</span><span class="hl-0">({ label</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">3</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages2/page4&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page4&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">Page</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page2&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page</span><span class="hl-0">({}</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-1">-</span><span class="hl-7">2</span><span class="hl-0">);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">      ]</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page2&quot;</span><span class="hl-0">);</span><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page3&quot;</span><span class="hl-0">);</span><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page4&quot;</span><span class="hl-0">);</span><br/><br/><span class="hl-6">// page2.ts</span><br/><span class="hl-1">import</span><span class="hl-0"> System </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@smartface/native/device/system&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> Application </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@smartface/native/application&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> AlertView </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@smartface/native/ui/alertview&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { NativeStackRouter } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@smartface/router&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">import</span><span class="hl-0"> Page2Design </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;generated/page2&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-1">default</span><span class="hl-0"> </span><span class="hl-1">class</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0"> {</span><br/><span class="hl-0">  router</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">any</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">constructor</span><span class="hl-0">(data</span><span class="hl-2">,</span><span class="hl-0"> router) {</span><br/><span class="hl-0">    </span><span class="hl-5">super</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">._router </span><span class="hl-1">=</span><span class="hl-0"> router;</span><br/><span class="hl-0">    </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-4">this</span><span class="hl-0">.router </span><span class="hl-1">instanceof</span><span class="hl-0"> </span><span class="hl-5">NativeStackRouter</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">this</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.setHeaderBarParams</span><span class="hl-0">({visible</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0">});</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-6">// Other stuff</span><br/><br/><span class="hl-1">function</span><span class="hl-0"> </span><span class="hl-5">btn_onPress</span><span class="hl-0">() {</span><br/><span class="hl-0">  </span><span class="hl-6">// Go back &quot;/pages/page1&quot; which is in history stack</span><br/><span class="hl-0">  </span><span class="hl-4">this</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.goBacktoUrl</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-6">// Go to the first page in the stack</span><br/><span class="hl-0">  </span><span class="hl-4">this</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.goBacktoHome</span><span class="hl-0">();</span><br/><span class="hl-0">  </span><span class="hl-6">// Go 3 steps back</span><br/><span class="hl-0">  </span><span class="hl-4">this</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.goBackto</span><span class="hl-0">(</span><span class="hl-1">-</span><span class="hl-7">3</span><span class="hl-0">);</span><br/><br/><span class="hl-0">  </span><span class="hl-6">// Test if router can go 2 steps back</span><br/><span class="hl-0">  </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-4">this</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.canGoBack</span><span class="hl-0">(</span><span class="hl-1">-</span><span class="hl-7">2</span><span class="hl-0">)) {</span><br/><span class="hl-0">    </span><span class="hl-6">// do something</span><br/><span class="hl-0">  } </span><span class="hl-1">else</span><span class="hl-0"> </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-4">this</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.canGoBacktoUrl</span><span class="hl-0">(</span><span class="hl-3">&quot;/some/path/to/back&quot;</span><span class="hl-0">)) {</span><br/><span class="hl-0">    </span><span class="hl-6">// do something else</span><br/><span class="hl-0">  } </span><span class="hl-1">else</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">// do something else</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#replace-active-route39s-view-using-replace-action" id="replace-active-route39s-view-using-replace-action" style="color: inherit; text-decoration: none;">
  <h4>Replace active route&#39;s view using Replace action</h4>
</a>
<p>Replace action provides rerendering for opened route.</p>

<a href="#working-with-stackrouter" id="working-with-stackrouter" style="color: inherit; text-decoration: none;">
  <h3>Working with StackRouter</h3>
</a>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> {</span><br/><span class="hl-0">  NativeRouter: Router</span><span class="hl-2">,</span><br/><span class="hl-0">  Router: RouterBase</span><span class="hl-2">,</span><br/><span class="hl-0">  NativeStackRouter: StackRouter</span><span class="hl-2">,</span><br/><span class="hl-0">  BottomTabBarRouter</span><span class="hl-2">,</span><br/><span class="hl-0">  Route</span><br/><span class="hl-0">} </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@smartface/router&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  isRoot</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">  routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-5">headerBarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0">  ({ ios</span><span class="hl-1">:</span><span class="hl-0"> { translucent</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> } })</span><span class="hl-2">,</span><br/><span class="hl-0">      routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">let</span><span class="hl-0"> Page2 </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page2&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">();</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">const</span><span class="hl-0"> { </span><span class="hl-4">routeData</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-4">view</span><span class="hl-0"> } </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><span class="hl-0">            </span><span class="hl-1">let</span><span class="hl-0"> Page1 </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(routeData</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">      ]</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-6">// Go to page1</span><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-0">);</span>
</code></pre>

<a href="#present-amp-dismiss-stackrouter39s-view-as-modal" id="present-amp-dismiss-stackrouter39s-view-as-modal" style="color: inherit; text-decoration: none;">
  <h4>Present &amp; dismiss StackRouter&#39;s view as modal</h4>
</a>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/example/modal&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/example/modal/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/example/modal/modalpages&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      modal</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">      routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/example/modal/modalpages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">let</span><span class="hl-0"> Page </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page</span><span class="hl-0">({ label</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">1</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/example/modal/modalpages/page2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">let</span><span class="hl-0"> Page </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-5">require</span><span class="hl-0">(</span><span class="hl-3">&quot;pages/page2&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page</span><span class="hl-0">({ label</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">2</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">      ]</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-6">// To close a modal StackRouter, call dismiss method</span><br/><span class="hl-4">router</span><span class="hl-5">.dismiss</span><span class="hl-0">();</span><br/><br/><span class="hl-6">// dismiss method may take a callback function as parameter which is called</span><br/><span class="hl-6">// right after dismiss operation is completed</span><br/><span class="hl-4">router</span><span class="hl-5">.dismiss</span><span class="hl-0">(() </span><span class="hl-1">=&gt;</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/to/another/page&quot;</span><span class="hl-0">));</span>
</code></pre>

<a href="#working-with-bottomtabbarrouter" id="working-with-bottomtabbarrouter" style="color: inherit; text-decoration: none;">
  <h3>Working with BottomTabBarRouter</h3>
</a>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> {</span><br/><span class="hl-0">  NativeRouter: Router</span><span class="hl-2">,</span><br/><span class="hl-0">  Router: RouterBase</span><span class="hl-2">,</span><br/><span class="hl-0">  NativeStackRouter: StackRouter</span><span class="hl-2">,</span><br/><span class="hl-0">  BottomTabBarRouter</span><span class="hl-2">,</span><br/><span class="hl-0">  Route</span><br/><span class="hl-0">} </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@smartface/router&quot;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> Color </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@smartface/native/ui/color&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  isRoot</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">  routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-4">BottomTabBarRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-6">// UI propperties of the BottomTabBarController</span><br/><span class="hl-0">      </span><span class="hl-5">tabbarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> ({</span><br/><span class="hl-0">        ios</span><span class="hl-1">:</span><span class="hl-0"> { translucent</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> }</span><span class="hl-2">,</span><br/><span class="hl-0">        itemColor</span><span class="hl-1">:</span><span class="hl-0"> {</span><br/><span class="hl-0">          normal</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">Color</span><span class="hl-0">.</span><span class="hl-4">RED</span><span class="hl-2">,</span><br/><span class="hl-0">          selected</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">Color</span><span class="hl-0">.</span><span class="hl-4">YELLOW</span><br/><span class="hl-0">        }</span><span class="hl-2">,</span><br/><span class="hl-0">        backgroundColor</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">Color</span><span class="hl-0">.</span><span class="hl-4">BLUE</span><br/><span class="hl-0">      })</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-6">// TabBarItem&#39;s of the BottomTabBarController</span><br/><span class="hl-0">      </span><span class="hl-5">items</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> [{ title</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;page1&quot;</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> { title</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;page2&quot;</span><span class="hl-0"> }</span><span class="hl-2">,</span><span class="hl-0"> { title</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;page3&quot;</span><span class="hl-0"> }]</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-6">// tab routes</span><br/><span class="hl-0">      routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-6">// tab 1</span><br/><span class="hl-0">        </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">headerBarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0">  ({ ios</span><span class="hl-1">:</span><span class="hl-0"> { translucent</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> } })</span><span class="hl-2">,</span><br/><span class="hl-0">          routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">            </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">              path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">              </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><br/><span class="hl-0">                </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/stack/path2&quot;</span><span class="hl-0">)</span><br/><span class="hl-0">            })</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">              path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack/path2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">              </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                </span><span class="hl-1">const</span><span class="hl-0"> { </span><span class="hl-4">routeData</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-4">view</span><span class="hl-0"> } </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><br/><span class="hl-0">                </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">(routeData</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">              }</span><br/><span class="hl-0">            })</span><br/><span class="hl-0">          ]</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-6">// tab 2</span><br/><span class="hl-0">        </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">headerBarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0">  ({ ios</span><span class="hl-1">:</span><span class="hl-0"> { translucent</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> } })</span><span class="hl-2">,</span><br/><span class="hl-0">          routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">            </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">              path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">              </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><br/><span class="hl-0">                </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><br/><span class="hl-0">                  </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><br/><span class="hl-0">                  router</span><span class="hl-2">,</span><br/><span class="hl-0">                  </span><span class="hl-3">&quot;/bottom/stack/path2&quot;</span><br/><span class="hl-0">                )</span><br/><span class="hl-0">            })</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">              path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">              </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">              }</span><br/><span class="hl-0">            })</span><br/><span class="hl-0">          ]</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-6">// tab 3</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-4">console</span><span class="hl-5">.log</span><span class="hl-0">(</span><span class="hl-3">`route </span><span class="hl-1">${</span><span class="hl-0">route</span><span class="hl-1">}</span><span class="hl-3">`</span><span class="hl-0">);</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><br/><span class="hl-0">              </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><br/><span class="hl-0">              router</span><span class="hl-2">,</span><br/><span class="hl-0">              </span><span class="hl-3">&quot;/bottom/stack/path1&quot;</span><br/><span class="hl-0">            );</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">      ]</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-6">// Go to page1</span><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/pages/page1&quot;</span><span class="hl-0">);</span>
</code></pre>

<a href="#working-with-pages" id="working-with-pages" style="color: inherit; text-decoration: none;">
  <h3>Working with Pages</h3>
</a>
<pre><code class="language-typescript"><span class="hl-6">// router</span><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-5">headerBarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0">  ({ ios</span><span class="hl-1">:</span><span class="hl-0"> { translucent</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> } })</span><span class="hl-2">,</span><br/><span class="hl-0">      routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><br/><span class="hl-0">            </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router)</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">          path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">          </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">      ]</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><span class="hl-0"> { sort</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;ASC&quot;</span><span class="hl-0"> });</span><br/><br/><span class="hl-6">// page1.js</span><br/><span class="hl-1">import</span><span class="hl-0"> Page2Design </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;generated/page2&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-1">default</span><span class="hl-0"> </span><span class="hl-1">class</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0"> {</span><br/><span class="hl-0">  sort</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">any</span><span class="hl-0">;</span><br/><span class="hl-0">  router</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">any</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-1">constructor</span><span class="hl-0">(data</span><span class="hl-2">,</span><span class="hl-0"> router) {</span><br/><span class="hl-0">    </span><span class="hl-5">super</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.sort </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">routeData</span><span class="hl-0">.sort;</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.router </span><span class="hl-1">=</span><span class="hl-0"> router;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-6">// Other stuff</span><br/><br/><span class="hl-6">// When btnNext is pressed in Page1</span><br/><span class="hl-1">function</span><span class="hl-0"> </span><span class="hl-5">btnNext_onPress</span><span class="hl-0">() {</span><br/><span class="hl-0">  </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">page</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">this</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-4">page</span><span class="hl-5">.</span><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&quot;/path/to/another&quot;</span><span class="hl-2">,</span><span class="hl-0"> {</span><br/><span class="hl-0">    message</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;Hello World!&quot;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#setting-home-route-to-stackrouter" id="setting-home-route-to-stackrouter" style="color: inherit; text-decoration: none;">
  <h3>Setting home-route to StackRouter</h3>
</a>
<p><strong>homeRoute</strong> property of StackRouter is the index of the first route in the stack.</p>
<pre><code class="language-typescript"><span class="hl-6">// Other stuff</span><br/><br/><span class="hl-4">StackRouter</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  homeRoute</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">0</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-6">// it means /bottom/stack2/path</span><br/><span class="hl-0">  </span><span class="hl-5">headerBarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0">  ({ ios</span><span class="hl-1">:</span><span class="hl-0"> { translucent</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> } })</span><span class="hl-2">,</span><br/><span class="hl-0">  routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><br/><span class="hl-0">        </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack/path2&quot;</span><span class="hl-0">)</span><br/><span class="hl-0">    })</span><span class="hl-2">,</span><br/><span class="hl-0">    </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">      path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-6">// Other stuff</span>
</code></pre>

<a href="#send-and-recevice-query-string" id="send-and-recevice-query-string" style="color: inherit; text-decoration: none;">
  <h3>Send and recevice query-string</h3>
</a>
<pre><code class="language-typescript"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">    StackRouter.of({</span><br/><span class="hl-0">        path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">        to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">        homeRoute</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-7">0</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-6">// it means /bottom/stack2/path</span><br/><span class="hl-0">        </span><span class="hl-5">headerBarParams</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> { ios</span><span class="hl-2">:</span><span class="hl-0"> { translucent</span><span class="hl-2">:</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0"> } }</span><span class="hl-2">,</span><br/><span class="hl-0">        routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">            </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">                path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">                </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                    </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">sort</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().</span><span class="hl-4">query</span><span class="hl-0">.sort;</span><br/><span class="hl-0">                    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> sort</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack/path2&quot;</span><span class="hl-0">)</span><br/><span class="hl-0">                }</span><br/><span class="hl-0">            })</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">                path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack2/path2&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">                </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page2</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router);</span><br/><span class="hl-0">                }</span><br/><span class="hl-0">            })</span><br/><span class="hl-0">        ]</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(</span><span class="hl-3">&#39;/bottom/stack2/path1?sort=ASC&amp;groupby=user&#39;</span><span class="hl-0">)</span>
</code></pre>

<a href="#working-with-deeplinking" id="working-with-deeplinking" style="color: inherit; text-decoration: none;">
  <h3>Working with deeplinking</h3>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> {</span><br/><span class="hl-0">    Route</span><span class="hl-2">,</span><br/><span class="hl-0">    Router: RouterBase</span><span class="hl-2">,</span><br/><span class="hl-0">    NativeRouter: Router</span><br/><span class="hl-0">} </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@smartface/router&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">deeplinkRouter</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">RouterBase</span><span class="hl-0">({</span><br/><span class="hl-0">    path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/deeplink&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">    routes</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">            path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/deeplink/products/:id&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-5">to</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">state</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><span class="hl-0">                </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-3">&quot;/nav/tabs/discover/products&quot;</span><span class="hl-0"> </span><span class="hl-1">+</span><span class="hl-0"> </span><span class="hl-4">state</span><span class="hl-0">.</span><span class="hl-4">match</span><span class="hl-0">.</span><span class="hl-4">params</span><span class="hl-0">.id </span><span class="hl-1">+</span><span class="hl-0"> </span><span class="hl-3">&#39;/&#39;</span><span class="hl-0"> </span><span class="hl-1">+</span><span class="hl-0"> </span><span class="hl-4">state</span><span class="hl-0">.rawQuery;</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">            path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/deeplink/product/:id&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">            </span><span class="hl-5">to</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">                </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-3">&quot;/nav/product/display/&quot;</span><span class="hl-0"> </span><span class="hl-1">+</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().</span><span class="hl-4">match</span><span class="hl-0">.</span><span class="hl-4">params</span><span class="hl-0">.id;</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        })</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">            path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/deeplink/search&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">            to</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/nav/tabs/shop/searchResults&quot;</span><br/><span class="hl-0">        })</span><br/><span class="hl-0">    ]</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">Router</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-6">///</span><br/><span class="hl-0">    routes</span><span class="hl-1">:</span><span class="hl-0"> [deeplinkRouter</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-1">...</span><span class="hl-0">]</span><br/><span class="hl-0">    </span><span class="hl-6">///</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-6">// Handle push notification</span><br/><span class="hl-4">Application</span><span class="hl-0">.</span><span class="hl-5">onReceivedNotification</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-1">function</span><span class="hl-0">(e) {</span><br/><span class="hl-0">    </span><span class="hl-6">// assume that receivedUrl is equal to &quot;http://yourdomain.com/product/12345&quot;</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">receivedUrl</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">e</span><span class="hl-0">.</span><span class="hl-4">remote</span><span class="hl-0">.url;</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">domain</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-3">&#39;http://yourdomain.com&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-0">    </span><span class="hl-6">// url is now equal to &quot;/deeplink/product/12345&quot;</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">url</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">receivedUrl</span><span class="hl-5">.replace</span><span class="hl-0">(domain</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&#39;/deeplink&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-0">    </span><span class="hl-4">deeplinkRouter</span><span class="hl-5">.push</span><span class="hl-0">(receivedUrl);</span><br/><br/><span class="hl-0">    </span><span class="hl-6">// or you can directly push the url using any other router</span><br/><span class="hl-0">    </span><span class="hl-4">router</span><span class="hl-5">.push</span><span class="hl-0">(receivedUrl);</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#working-with-life-cycle-methods" id="working-with-life-cycle-methods" style="color: inherit; text-decoration: none;">
  <h3>Working with life-cycle methods</h3>
</a>
<p>Routes have some life-cycle events :</p>
<ul>
<li><code>routeDidEnter</code> is triggered when route is activated by exact match to the requested url</li>
<li><code>routeDidExit</code> triggered when route is deactivated by exact match to an another route</li>
<li><code>build</code> is a builder function to create view instance associated with specified router and route or not</li>
<li><code>routeShouldMatch</code> is triggered when route is matched as exact and then route will be blocked or not by regarding the return value of the method</li>
</ul>
<pre><code class="language-typescript"><br/><span class="hl-4">Route</span><span class="hl-5">.of</span><span class="hl-0">({</span><br/><span class="hl-0">  path</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/page1&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">  </span><span class="hl-5">routeDidEnter</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">// if view is singleton and visited before</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> { </span><span class="hl-4">view</span><span class="hl-0"> } </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-4">view</span><span class="hl-0">?.onRouteEnter </span><span class="hl-1">&amp;&amp;</span><span class="hl-0"> </span><span class="hl-4">view</span><span class="hl-5">.onRouteEnter</span><span class="hl-0">(router</span><span class="hl-2">,</span><span class="hl-0"> route);</span><br/><span class="hl-0">  }</span><span class="hl-2">,</span><br/><span class="hl-0">  </span><span class="hl-5">routeDidExit</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> { </span><span class="hl-4">view</span><span class="hl-0"> } </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-4">view</span><span class="hl-0">.onRouteExit </span><span class="hl-1">&amp;&amp;</span><span class="hl-0"> </span><span class="hl-4">view</span><span class="hl-5">.onRouteExit</span><span class="hl-0">(router</span><span class="hl-2">,</span><span class="hl-0"> route);</span><br/><span class="hl-0">  }</span><span class="hl-2">,</span><br/><span class="hl-0">  </span><span class="hl-5">routeShouldMatch</span><span class="hl-1">:</span><span class="hl-0"> (route</span><span class="hl-2">,</span><span class="hl-0"> nextState) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-1">!</span><span class="hl-4">nextState</span><span class="hl-0">.</span><span class="hl-4">routeData</span><span class="hl-0">.applied) {</span><br/><span class="hl-0">      </span><span class="hl-6">// blocks route changing</span><br/><span class="hl-0">      </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-4">false</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><span class="hl-2">,</span><br/><span class="hl-0">  </span><span class="hl-5">build</span><span class="hl-1">:</span><span class="hl-0"> (router</span><span class="hl-2">,</span><span class="hl-0"> route) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> { </span><span class="hl-4">view</span><span class="hl-0"> } </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-6">// singleton view</span><br/><span class="hl-0">    </span><span class="hl-1">return</span><span class="hl-0"> (</span><br/><span class="hl-0">      view </span><span class="hl-1">||</span><br/><span class="hl-0">      </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">Page1</span><span class="hl-0">(</span><span class="hl-4">route</span><span class="hl-5">.getState</span><span class="hl-0">().routeData</span><span class="hl-2">,</span><span class="hl-0"> router</span><span class="hl-2">,</span><span class="hl-0"> </span><span class="hl-3">&quot;/bottom/stack/path1&quot;</span><span class="hl-0">)</span><br/><span class="hl-0">    );</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-6">///</span>
</code></pre>

<a href="#blocking-routes" id="blocking-routes" style="color: inherit; text-decoration: none;">
  <h3>Blocking Routes</h3>
</a>
<pre><code class="language-typescript"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">unload</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-5">.addRouteBlocker</span><span class="hl-0">((path</span><span class="hl-2">,</span><span class="hl-0"> routeData</span><span class="hl-2">,</span><span class="hl-0"> action</span><span class="hl-2">,</span><span class="hl-0"> ok) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">alert</span><span class="hl-0">({</span><br/><span class="hl-0">    message</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;Would you like to answer?&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">    title</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;Question&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">    buttons</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">      {</span><br/><span class="hl-0">        text</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;Yes&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">        type</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">AlertView</span><span class="hl-0">.</span><span class="hl-4">Android</span><span class="hl-0">.</span><span class="hl-4">ButtonType</span><span class="hl-0">.</span><span class="hl-4">POSITIVE</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-5">onClick</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">          </span><span class="hl-5">ok</span><span class="hl-0">(</span><span class="hl-4">true</span><span class="hl-0">);</span><br/><span class="hl-0">        }</span><br/><span class="hl-0">      }</span><span class="hl-2">,</span><br/><span class="hl-0">      {</span><br/><span class="hl-0">        text</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-3">&quot;No&quot;</span><span class="hl-2">,</span><br/><span class="hl-0">        type</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">AlertView</span><span class="hl-0">.</span><span class="hl-4">Android</span><span class="hl-0">.</span><span class="hl-4">ButtonType</span><span class="hl-0">.</span><span class="hl-4">NEGATIVE</span><span class="hl-2">,</span><br/><span class="hl-0">        </span><span class="hl-5">onClick</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">          </span><span class="hl-5">ok</span><span class="hl-0">(</span><span class="hl-4">false</span><span class="hl-0">);</span><br/><span class="hl-0">        }</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    ]</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-5">unload</span><span class="hl-0">();</span>
</code></pre>

<a href="#limitations-of-blockers" id="limitations-of-blockers" style="color: inherit; text-decoration: none;">
  <h3>Limitations of blockers</h3>
</a>
<p>Following cases cannot be handled by the blocker:</p>
<ul>
<li><strong>iOS HeaderBar</strong>: Back gesture of the page &amp; back button action of HeaderBar cannot be prevented. If user wants to use blockers in these cases, custom back button must be used.</li>
<li><strong>BottomTabBar</strong>: Switching between tabs cannot be prevented</li>
</ul>

<a href="#listening-history-changes" id="listening-history-changes" style="color: inherit; text-decoration: none;">
  <h2>Listening history changes</h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-4">unlisten</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">router</span><span class="hl-5">.listen</span><span class="hl-0">((location</span><span class="hl-2">,</span><span class="hl-0"> action) </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">console</span><span class="hl-5">.log</span><span class="hl-0">(</span><span class="hl-3">`new route action :  </span><span class="hl-1">${</span><span class="hl-0">action</span><span class="hl-1">}</span><span class="hl-3"> path : </span><span class="hl-1">${</span><span class="hl-4">location</span><span class="hl-0">.url</span><span class="hl-1">}</span><span class="hl-3">`</span><span class="hl-0">);</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-5">unlisten</span><span class="hl-0">();</span>
</code></pre>

<a href="#common-features-of-routers" id="common-features-of-routers" style="color: inherit; text-decoration: none;">
  <h2>Common features of Routers</h2>
</a>
<ul>
<li>Nested routes</li>
<li>Route redirection</li>
<li>Route blocking</li>
<li>History listening</li>
</ul>

<a href="#contribute-to-repository" id="contribute-to-repository" style="color: inherit; text-decoration: none;">
  <h1>Contribute to Repository</h1>
</a>
<ul>
<li>Clone the repository</li>
<li>Install dependencies by using <code>yarn</code> command</li>
<li>Compile the project by <code>yarn run build</code> or invoke it in watch mode by <code>yarn run watch</code></li>
<li>Create a symlink in your Smartface Worksace path <code>scripts/node_modules/@smartface/router</code>.
Example command(don&#39;t forget to delete the installed lib directory): <code>ln -s /path/to/your/smartface/workspace/scripts/node_modules@smartface/router/lib /path/to/your/router/installation/lib</code></li>
</ul>
<blockquote>
<p>You can also use NPM Workspaces feature to link two directories. However, this method will cause your <code>node_modules</code> files to merge and the development environment will increase in size dramatically.</p>
</blockquote>

<a href="#test-driven-developmenttdd" id="test-driven-developmenttdd" style="color: inherit; text-decoration: none;">
  <h2>Test Driven Development(TDD)</h2>
</a>
<p>Tests will run on before every publish and all of the test cases are required to pass before a new version can be published.</p>
<pre><code><span class="hl-0">yarn test </span><span class="hl-1">--</span><span class="hl-0"> </span><span class="hl-1">--</span><span class="hl-0">watch</span>
</code></pre>

<a href="#update-documentation" id="update-documentation" style="color: inherit; text-decoration: none;">
  <h2>Update Documentation</h2>
</a>
<p>Documentation will be updated every time when changes are pushed into the <code>master</code> branch. 
To do it manually or oversee the documentation beforehand:</p>
<pre><code><span class="hl-0">yarn run docs</span><br/><span class="hl-0">open .</span><span class="hl-1">/</span><span class="hl-0">docs</span><span class="hl-1">/</span><span class="hl-4">index</span><span class="hl-0">.html </span><span class="hl-6">// Mac Only</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-reference"><a href="modules.html#NativeRouter" class="tsd-kind-icon">Native<wbr/>Router</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/BottomTabBarRouter.html" class="tsd-kind-icon">Bottom<wbr/>Tab<wbr/>Bar<wbr/>Router</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/Router.html" class="tsd-kind-icon">Router</a></li><li class="tsd-kind-class"><a href="classes/NativeStackRouter.html" class="tsd-kind-icon">Native<wbr/>Stack<wbr/>Router</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/Route.html" class="tsd-kind-icon">Route</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/BaseRouter.html" class="tsd-kind-icon">Base<wbr/>Router</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>